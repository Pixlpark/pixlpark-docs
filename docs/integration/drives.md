# Интеграции с облачными хранилищами

## Яндекс.Диск
* Интеграция с [Яндекс.Диск](https://disk.yandex.ru) позволяет автоматически выгружать заказы в данный облачный сервис.
* Для настройки интеграции необходимо выполнить следующие действия.
* Перейти на страницу создания приложения и заполнить форму, указав:
    + __Название приложения__;
    + __Ссылку на сайт приложения__;

![](../_media/integration/ya11.png ':size=40%')
* Далее, в разделе "__Платформы__" нужно выбрать пункт "__Веб-сервисы__" и заполнить поле "__Callback URI #1__" в формате: `https://ваш-сайт/account/login/yandexdisk?allowAnonymous=true`
![](../_media/integration/ya12.png ':size=40%')
* Затем в подразделе "__Яндекс.Диск REST API__" раздела "__Доступы__" выбрать пункты:
    + __Доступ к информации о диске__;
    + __Доступ к папке приложения на диске__;
    + __Запись в любом месте на диске__;
    + __Чтение всего диска__;

![](../_media/integration/ya13.png ':size=30%')
* Завершить создание приложения нажав кнопку "__Создать приложение__" в нижней части экрана.
![](../_media/integration/ya14.png ':size=40%')
* После этого сервис отобразит страницу с ключами созданного приложения.
![](../_media/integration/ya15.png ':size=40%')
* Параллельно необходимо открыть в панели управления Pixlpark раздел "__Заказы / Настройка / Выгрузка заказов__" и в подразделе "__Облачные хранилища__" включить "__Яндекс.Диск__".
* Затем скопировать поля из Яндекса в Pixlpark:
    + "__ID__" в "__App ID__";
    + "__Пароль__" в "__App Pass__".

![](../_media/integration/ya16.png ':size=70%')
* Далее нажать кнопку "__Сохранить__" в нижней части экрана и сбросить кэш сайта.
* Затем вручную получить OAuth-токен. Для этого в браузере следует перейти по ссылке с указанием __ID созданного приложения__:
`https://oauth.yandex.ru/authorize?response_type=token&client_id=ID`
* После перехода на страницу нажать кнопку "__Войти как__", выбрав имя_Вашего_профиля.
![](../_media/integration/ya17.png ':size=30%')
* Сервис отобразит страницу с токеном. Токен также будет добавлен в адресную строку страницы в браузере.
![](../_media/integration/ya18.png ':size=70%')
* В панели управления Pixlpark в подразделе "__Облачные хранилища / Яндекс.Диск__" раздела  "__Заказы / Настройка / Выгрузка заказов__" указать:
    + Полученный токен  в "__Access Token__";
    + Адрес для папки, в которой будет хранится выгрузка заказов в "__Путь до заказов на Яндекс.Диск__".
* Далее нажать кнопку "__Сохранить__" и сбросить кэш сайта.
* Итоговая настройка выглядит следующим образом:
![](../_media/integration/ya19.png ':size=70%')

## Dropbox 
* Интеграция с [Dropbox](https://www.dropbox.com) позволяет автоматически выгружать заказы в данный облачный сервис.
* Для настройки интеграции необходимо выполнить следующие действия:
* Перейти на страницу создания приложения и заполнить поля:
    + __Choose an API__ - выбрать API "__Scoped access__";
    + __Choose the type of access you need__ - выбрать тип доступа "__Full Dropbox__";
    + __Name your app__ - название Вашего приложения.
* Далее, открыть вкладку "__Permissions__" и в подразделе "__Files and folders__" выбрать:
    + __Files.metadata.write__;
    + __Files.content.write__;
    + __Files.content.read__.
* Для сохранения изменений в нижней части экрана нужно нажать кнопку "__Submit__".
* Затем, в подразделе "__OAuth 2 / Generated access token__"  раздела "__Setting__" создать токен, нажав кнопку "__Generate__".
![](../_media/integration/dropbox01.png ':size=70%')
* После этого сервис отобразит созданный токен. 
![](../_media/integration/dropbox02.png ':size=70%')
* Параллельно необходимо открыть в панели управления Pixlpark раздел "__Заказы / Настройка / Выгрузка заказов__" и в подразделе "__Облачные хранилища__" включить "__Dropbox__".
* Затем нужно скопировать поле из Dropbox в Pixlpark:
    + "__Generated access token__" в "__App Access Token__";
* В поле "__Путь до заказов на Dropbox__" указать путь до заказов на сервисе Dropbox.
![](../_media/integration/dropbox03.png ':size=70%')
* Далее нажать кнопку "__Сохранить__" в нижней части экрана и сбросить кэш сайта.