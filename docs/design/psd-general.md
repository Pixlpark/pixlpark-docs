# Макеты для шаблонов

## Общая информация

* Макет – это файл в формате PSD, содержащий только растровые, текстовые и векторные слои.

* Разрешение макета должно быть задано не ниже указанного в настройках продукта, которое в свою очередь определяет качество формирования файла для печати. Обычно используют разрешение 300dpi.

* В макете можно использовать только 8-битное цветовое пространство и любую цветовую модель, однако файл для печати будет сформирован в модели RGB.

* При подготовке макета недопустимо использовать эффекты, прозрачность и деформацию слоев без последующего растрирования.

* В редакторе отображение слоев будет соответствовать их расположению в макете, если не прописаны дополнительные ключи, влияющие на их поведение.

* В наименовании слоев можно использовать следующие ключи:

    + `[template-preview]` – не отображает слой в редакторе, однако использует его в качестве обложки шаблона;

    + `[nonprintable]` – отображает слой в редакторе, но не включает его в итоговый файл для печати;

    + `[locked]` – запрещает перемещать или удалять слой в редакторе;

    + `[align:Top | TopRight | Right | BottomRight | Bottom | BottomLeft | Left | TopLeft| CenterLeft | CenterRight | TopCenter | BottomCenter]` – задает выравнивание слоя по одному из указанных значений. Например, `[align:Left]` и `[align:Right]` используется для графических элементов на обложке фотокниги, чтобы с ростом корешка они оставались на прежнем месте на странице;

    + `[background]` – считает слой фоновым, т.е. располагает ниже всех слоев и заполняет им всю зону печати (при необходимости пропорционально масштабируя);

    + `[foreground]` – считает слой обложкой, т.е. располагает поверх всех слоев и запрещает с ним любые операции (редактирования, перемещения и удаления).

## Работа с текстом

* Размер текста устанавливать в Adobe Photoshop  нужно только при помощи изменения кегля.

* Короткий текст может содержать только одну строку и иметь выравнивание по центру, по левому или по правому краю. 

* Блочный текст может содержать любое количество строк и иметь выравнивание только по левому краю.

* Для текстовых слоев можно использовать ключ `[optional]`, который не выводит слой в файле для печати, если он не был изменен в редакторе.

* Для создания макета можно использовать любые шрифты. Однако, если шрифт не принадлежит коллекции Google Fonts, предварительно его нужно загрузить в систему и связать через механизм маппинга с названием шрифта в макете. Это можно выполнить в панели управления в разделе ["Печать / Дизайн / Шрифты"](../print/designs).

## Работа с изображениями

* __Содержание__
    + [Фото без декора](/design/psd-general?id=Фото-без-декора)
    + [Фото с декором](/design/psd-general?id=Фото-с-декором)
    + [Фотоколлажи](/design/psd-general?id=Фотоколлажи)

### Фото без декора
* Для размещения фотографии необходимо:

    1. Создать растровый слой с двумя ключами `[placeholder]` и `[path:pathName]`, где **pathName** – название контура.
    1. Создать контур с именем **pathName** и привязать к слою `[placeholder]`.

* Фотография будет размещена в области `[path]` и заменит собой содержимое слоя `[placeholder]`.
![](../_media/design/photoWithoutDecor.png ':size=90%')

* Вы можете скачать [пример макета](https://admin.pixlpark.com/content/pxp-template-download/14455577?secret=c7abd944b4aab70aa11b1fc4a9923fde) или [посмотреть его в редакторе](https://demo.pixlpark.ru/printing/softcover-layflat-photobooks/15x20-soft-180/template-5278231/editor?q=1&oq=0&p=11&ws=11819a1630fb09355d289f9fab3e335c).

### Фото с декором

* Для размещения фотографии необходимо:
    1. Создать группу с ключом `[placeholder]`.
    1. В группе создать замкнутый растровый слой с ключом `[mask]` и прозрачностью по центру для отображения фотографии.
    1. В группе создать растровый слой с двумя ключами `[content]` и `[path:pathName]`, где **pathName** – название контура.
    1. Создать контур с именем **pathName** и привязать к слою `[content]`.

* Фотография будет размещена в области `[path]`, заменит собой содержимое слоя `[content]` и отобразится с наложением `[mask]`.
![](../_media/design/photoWithDecor.png ':size=90%')
* Вы можете скачать [пример макета](https://admin.pixlpark.com/content/pxp-template-download/18556122?secret=3d35c2308878e4f6a8c194dce66135a1) или [посмотреть его в редакторе](https://demo.pixlpark.ru/printing/softcover-photobooks/20x20-soft/template-6296066/editor?q=1&oq=0&p=11&ws=11819a1630fb09355d289f9fab3e335c).


### Фотоколлажи

* В сервисе Pixlpark существуют наборы коллажей пропорцией 3:2 и 2:3 с количеством фотографий от 1 до 7 штук.

* Для размещения коллажа необходимо:
    1. Создать растровый слой с двумя ключами `[collage:n]` (**n** - количество фотографий в коллаже) и `[path:pathName]`, где **pathName** – название контура.
    1. Создать контур с именем **pathName** и привязать к слою `[collage:n]`.
* Допустимо вместо `[collage:n]` использовать ключ `[collage]`. Тогда количество фотографий будет произвольным в соответствии с настройками категории. Коллаж будет вписан в растровый слой и заменит собой его содержимое.
![](../_media/design/photoCollage.png ':size=70%')

* Вы можете скачать [пример макета](https://admin.pixlpark.com/content/pxp-template-download/18615422?secret=192996c433eb58e26487578f616b6668) или [посмотреть его в редакторе](https://demo.pixlpark.ru/printing/wall-calendars/13x27/template-6444130/editor).

## Особенности макетов фотокниг
* Общий механизм подготовки макетов позволяет создавать дизайны фотокниг, однако макеты в этом случае должны быть дообрезных размеров под каждый формат и тип книги, т.е. содержать область загиба, вылет и корешок по умолчанию.

* Для оптимизации подготовки макетов, мы разработали технологию адаптивного дизайна фотокниг, которая позволяет использовать один макет для близких по размеру форматов вне зависимости от размеров вылета, корешка и загиба.

* Суть технологии заключается в следующем:
    + Макет не содержит вылета, корешка и загиба.
    + Макет состоит из склеенных в единый разворот двух страниц, фонового изображения и набора объектов, размещенных на всем развороте.
    + Каждая из страниц макета вписывается в левую или правую половину зоны печати, фоновое изображение заполняет всю зону печати с вылетами, а прочие объекты располагаются на развороте по центру.

* Для использования технологии в [настройках шаблона](../print/designs?id=Страница-шаблона) параметр **"Инициализации шаблона"** должен иметь значение **"Шаблон постранично вписывается в страницы зоны печати без вылетов"**, а макет соответствовать следующей структуре:
    + `[page][align:left]` – группа слоев, элементы которой вписываются в левую половину зоны печати;
    + `[page][align:right]` – группа слоев, элементы которой вписываются в правую половину зоны печати;
    + `[surface]` – группа слоев, элементы которой располагаются на всей зоне печати;
    + `[background]` – слой с фоновым изображением, который полностью заполняет зону печати.

![](../_media/design/photobookLayoutpng.png ':size=90%')

* Вы можете скачать [пример макета](https://admin.pixlpark.com/content/pxp-template-download/18556091?secret=dde9f6ae063a66734a461477afbb8990) или [посмотреть его в редакторе](https://demo.pixlpark.ru/printing/softcover-photobooks/20x20-soft/template-6334532/editor).

## Метаинформация для выпускных альбомов

* Для автоматической верстки выпускных альбомов макет шаблона должен содержать в себе метаинформацию, по которой в дизайн будут подставляться реальный данные класса.

* Метаинформация в данном случае является набором ключей, которые необходимо использовать в названиях слоев или групп.

* `[school]` - группа, содержащая информацию о школе. В ней можно использовать слои со следующими ключами:
    + `[name]` - название школы;
    + `[number]` - номер школы (например "32");
    + `[city]` - название города;
    + `[photo]` - фотография школы.

* `[class]`  - группа, содержащая информация о классе. В ней можно использовать слои со следующими ключами:
    + `[number_letter]` - буква и номер класса слитно;
    + `[letter]` - буква класса;
    + `[number]` - номер класса;
    + `[year]` - год выпуска;
    + `[year-half1]` - первые две цифры года выпуска;
    + `[year-half2]` - вторые две цифры года выпуска;
    + `[profile]` - профиль класса (например "физико-математический");
    + `[photo]` - общая фотография класса.

* `[teacher]`/`[teacher:classroom]` - группа, содержащая информация об учителе/классном руководителе. В ней можно использовать слои со следующими ключами:
    + `[lastname_firstname_middlename]`  - ФИО учителя;
    + `[firstname_middlename]` - имя и отчество учителя;
    + `[firstname]` - имя учителя;
    + `[lastname]` - фамилия учителя;
    + `[middlename]` - отчество учителя;
    + `[course]` - преподаваемый предмет;
    + `[position]` - должность учителя;
    + `[photo]` - фотография учителя.

* `[student]` - группа, содержащая информация об ученике. В ней можно использовать слои со следующими ключами:
    + `[lastname_firstname_middlename]` - ФИО ученика;
    + `[firstname_lastname]` - имя и фамилия ученика;
    + `[firstname]` - имя ученика;
    + `[lastname]` - фамилия ученика;
    + `[middlename]` - отчество ученика;
    + `[note]` - примечание от ученика;
    + `[photo-cover]` - фотография на обложку;
    + `[photo-custom]` - портретная фотография;
    + `[photo-frame]` - фотография на виньетку;
    + `[photo-custom]` - произвольная фотография ученика;
    + `[photo-friend]` - фотография друга ученика;
    + `[photo-friends]` - фотография ученика с друзьями.

* Вы можете скачать примеры макетов:
    + [обложка](https://admin.pixlpark.com/content/pxp-template-download/18787588?secret=0db337eba8e77c7173b6d11a35fba64d);
    + [разворот с виньетками](https://admin.pixlpark.com/content/pxp-template-download/18787480?secret=39b38791db315a550d1f8b490d311e6d);
    + [разворот с фотографиями](https://admin.pixlpark.com/content/pxp-template-download/18787523?secret=c8c51e743fd93ed638d6b402aa4e9937).


## Особенности макетов календарей
* Общий механизм подготовки макетов позволяет создавать дизайны календарей, однако макеты в этом случае должны содержать календарные сетки на каждый месяц.

* Для оптимизации подготовки макетов, мы разработали технологию умного дизайна календаря, которая позволяет использовать в дизайне автоматически формируемые календарные сетки на любой месяц.

* Суть технологии заключается в следующем:
    + Макет содержит слой, в котором будет располагаться календарная сетка.
    + Календарная сетка формируется динамически в редакторе и отображается в дизайне в указанной области.
    + Дизайн календарной сетки настраивается в панели управления Pixlpark.
    + В ячейки календарной сетки в редакторе можно помещать фотографии или подписывать их (например, отметить памятное событие).

* Для использования технологии необходимо:
    1. В панели управления Pixlpark в разделе ["Печать / Дизайн / Календари"](/print/designs?id=Календари) создать собственные дизайны календарных сеток или оставить для использования системные.
    1. В [настройках шаблона](../print/designs?id=Страница-шаблона) параметру **"Тип шаблона"** задать значение **"Календарь"**, а параметру **"Сетка по умолчанию"** - название наиболее подходящей календарной сетки для данного шаблона.
    1. В макете использовать следующие ключи:
    + `[template-preview]` – группа растровых слоев в первом макете, не отображающаяся в редакторе, элементы которой используются в качестве обложки шаблона. Каждый слой группы соответствует определенному году и называется `[year]` (например, [2023]), где **year** - год, заданный в панели управления в разделе ["Печать / Дизайны / Шаблоны / Настройка"](../print/designs?id=Страница-шаблона).
    + `[calendar-title]` – текстовый слой, содержимое которого будет заменено на начальный год календаря (например, использовать в слое `[template-preview]` для обложки);
    + `[calendar-title-range]` – текстовый слой, содержимое которого будет заменено на начальный и конечный год календаря через дефис, если календарь создается на несколько лет;
    + `[calendar][path:pathName]` – графический слой, содержимое которого будет заменено на календарную сетку, а **pathName** – название контура, привязанного к данному слою.

![](../_media/design/CalendarCover.png ':size=70%')
![](../_media/design/CalendarPage.png ':size=70%')

* Вы можете скачать примеры [макета обложки](https://admin.pixlpark.com/content/pxp-template-download/18103595?secret=4e95f489f54f2fe625b8c8f9e34aee35) и [страницы календаря](https://admin.pixlpark.com/content/pxp-template-download/18103581?secret=5f086c92f92673a69bec6bce3716e6a2) или [посмотреть их в редакторе](https://demo.pixlpark.ru/printing/wall-calendars/a4-vert/template-6324454/editor?q=1&oq=0&p=13&ws=d751713988987e9331980363e24189ce).

## Советы по работе с Adobe Photoshop
### Создание контура
* Для добавления контура необходимо:
    1. Создать новый слой с уникальным именем в панели "Контуры" (например `"path_N"`).
    1. Выбрать инструмент "Перо" (горячая клавиша – "P").
    1. Начертить контур с помощью пера так, чтобы последняя точка замыкалась с первой. При использовании слоя `[mask]`, точки нужно ставить примерно посередине самой рамки, чтобы она закрывала границы фотографии.
    1. Повторить эту операцию для каждой рамки в макете.
